<template>
    <div style="width: 400px;height:400px" id="wordCloud"></div>
</template>

<script>
  import api from "@/api/api"
    export default {
        name: "wordCloud",
      data(){
          return{
            url:require("../assets/cy.png"),
          }
      },
      mounted(){
          this.initCharts()
        console.log("ds")
      },
      methods:{
          initCharts(){
            let myChart =  echarts.init(document.getElementById('wordCloud'))

            let keywords =
              {'活动': 459,
                '志愿': 241,
                '服务': 140,
                '社区': 138,
                '志愿者': 86,
                '爱心': 58,
                '校园': 57,
                '中南': 53,
                '课堂': 47,
                '中南财经政法大学': 45,
                '文化': 40,
                '武汉': 39,
                '普法': 38,
                '少数民族': 37,
                '学院': 36,
                '人员': 35,
                '迎新': 34,
                '教学活动': 31,
                '环保': 31,
                '爱': 30,
                '系列': 29,
                '公益': 29,
                '培训': 27,
                '关爱': 27,
                '行': 25,
                '经商': 25,
                '分队': 24,
                '走进': 24,
                '养老院': 24,
                '志协': 23,
                '大赛': 23,
                '校庆': 23,
                '南湖': 22,
                '金融': 22,
                '敬老': 22,
                '同行': 22,
                '小学': 21,
                '家园': 21,
                '知识': 20,
                '宣传': 20,
                '光谷': 20,
                '主题': 20,
                '协会': 20,
                '阳光': 20,
                '2018': 20,
                '洪山区': 19,
                '2019': 19,
                '青年': 19,
                '国家': 19,
                '服务队': 18,
                '青春': 18,
                '教育': 18,
                '军运会': 17,
                '务工': 17,
                '通用': 17,
                '年': 17,
                '文明': 16,
                '黄鹤楼': 16,
                '暖阳': 16,
                '江城': 15,
                '杯': 15,
                '医院': 15,
                '进校园': 15,
                '帮扶': 15,
                '保护': 15,
                '先行': 15,
                '起义': 15,
                '门': 15,
                '红色': 15,
                '项目': 15,
                '绿色': 15,
                '离退休': 14,
                '招募': 14,
                '宣讲': 14,
                '首义': 14,
                '传递': 14,
                '军运': 14,
                '暨': 14,
                '新疆': 14,
                '交流': 14,
                '助力': 14,
                '寓': 13,
                '乐于': 13,
                '教': 13,
                '哲学': 13,
                '子女': 13,
                '新': 13,
                '值班': 13,
                '地铁': 12,
                '和谐': 12,
                '进社区': 12,
                '中国': 12,
                '夕阳': 12,
                '法律': 12,
                '策划': 12,
                '承毅': 11,
                '财大': 11,
                '校区': 11,
                '情满': 11,
                '学习': 11,
                '月': 11,
                '校运会': 11,
                '语言文字': 11,
                '周年': 11,
                '定点': 11,
                '校友': 11,
                '科技馆': 10,
                '解放路': 10,
                '院': 10,
                '计划': 10,
                '支教': 10,
                '会议': 10,
                '―': 10,
                '送': 10,
                '清凉': 10,
                '仪式': 10,
                '老人': 10,
                '日': 10,
                '制动': 10,
                '之江': 9,
                '讲解': 9,
                '老来乐': 9,
                '急救': 9,
                '送暖': 9,
                '工商': 9,
                '病房': 9,
                '青少年': 9,
                '参观': 9,
                '传承': 9,
                '精神': 9,
                '工作': 9,
                '携手': 9,
                '义卖': 9,
                '食堂': 9,
                '军训': 9,
                '旅途': 9,
                '人文': 9,
                '客运': 9,
                '高校': 9,
                '温暖': 9,
                '70': 9,
                '物资': 8,
                '大学生': 8,
                '手工': 8,
                '英语': 8,
                '保安': 8,
                '博物馆': 8,
                '美好': 8,
                '伴行': 8,
                '岗': 8,
                '运会': 8,
                '工商管理': 8,
                '湖北': 8,
                '风采': 8,
                '模拟': 8,
                '湖北省': 8,
                '新生': 8,
                '敬老院': 8,
                '文澜': 8,
                '情暖': 8,
                '成长': 8,
                '青鸟': 8,
                '家乡': 8,
                '巡湖': 7,
                '假期': 7,
                '哲院志协': 7,
                '健康': 7,
                '伴': 7,
                '护': 7,
                '烧伤科': 7,
                '返乡': 7,
                '助残': 7,
                '垃圾': 7,
                '第四届': 7,
                '回收': 7,
                '手机': 7,
                '交流会': 7,
                '鲁广': 7,
                '马拉松': 7,
                '未来': 7,
                '天使': 7,
                '献血': 7,
                '传统': 7,
                '世界': 7,
                '运动会': 7,
                '哲院志': 7,
                '嘉年华': 7,
                '民族': 7,
                '六一': 7,
                '感谢': 7,
                '东湖': 7,
                '动物': 7,
                '电子产品': 6,
                '发放': 6,
                '街': 6,
                '四点': 6,
                '国庆': 6,
                '益游': 6,
                '讲座': 6,
                '童心': 6,
                '实验': 6,
                '大军': 6,
                '第三': 6,
                '教室': 6,
                '时代': 6,
                '统数志协': 6,
                '格物': 6,
                '智知': 6,
                '台': 6,
                '江滩': 6,
                '广场': 6,
                '莲莲': 6,
                '服': 6,
                '语言': 6,
                '文字': 6,
                '趣味': 6,
                '班': 6,
                '善行': 6,
                '暖': 6,
                '雷锋': 6,
                '协涂家': 6,
                '沟': 6,
                '时光': 6,
                '面试': 6,
                '院校': 6,
                '情': 6,
                '信件': 6,
                '行之': 6,
                '傅家坡': 6,
                '教学': 6,
                '一对一': 6,
                '感恩': 6,
                '五月': 6,
                '历史': 6,
                '寒冬': 6,
                '消防': 6,
                '救护': 5,
                '法制': 5,
                '星火': 5,
                '造血': 5,
                '干细胞': 5,
                '迎军运': 5,
                '慰问': 5,
                '教师': 5,
                '情系': 5,
                '建设': 5,
                'DIY': 5,
                '创意': 5,
                '法学院': 5,
                '线下': 5,
                '中心': 5,
                '展': 5,
                '前期': 5,
                '普及': 5,
                '点子': 5,
                '舞蹈': 5,
                '竞赛': 5,
                '班级': 5,
                '江零': 5,
                '第三届': 5,
                '折翼': 5,
                '运': 5,
                '厚德': 5,
                '前行': 5,
                '站': 5,
                '统计': 5,
                '第一期': 5,
                '辅导': 5,
                '儿童': 5,
                '空间': 5,
                '防艾': 5,
                '中': 5,
                '雪莲花': 5,
                '大学': 5,
                '外访': 5,
                '美丽': 5,
                '共享': 5,
                '火车站': 5,
                '中秋': 5,
                '禁毒': 5,
                '希望': 5,
                '家教': 5,
                '恩师': 5,
                '迎': 5,
                '返校': 5,
                '中学': 5,
                '三市': 5,
                '联合': 5,
                '心系': 5,
                '守护': 5,
                '人心': 5,
                '宪法': 5,
                '冬日': 5,
                '涂镇': 5,
                '双语': 5,
                '3.15': 5,
                '汽标': 4,
                '应急': 4,
                '进': 4,
                '不忘': 4}

            let data = [];
            for (let name in keywords) {
              data.push({
                name: name,
                value: Math.sqrt(keywords[name])
              })
            }
            let maskImage = new Image();
            let url = this.url
            maskImage.src = url;
            let option = {
              grid:{

                width:'100%',
                height:'100%',
              },

              series: [{
                name: '搜索指数',
                type: 'wordCloud',
                //size: ['9%', '99%'],
                sizeRange:[5,40],
                rotationRange: [0, 0],
                //textRotation: [0, 45, 90, -45],
                //shape: 'circle',
                maskImage: maskImage,
                textPadding: 0,
                autoSize: {
                  enable: false,
                  minSize: 1,
                  maxSize:1
                },
                textStyle: {
                  normal: {
                    color: function(v) {
                      let color = ['#ba7985', '#d7b4ba',  '#8b7397','#e1cbec']
                      let num =Math.floor(Math.random() * (3 + 1));
                      return color[num];
                    },
                  },
                },
                data: data
              },
              ],
            };
            maskImage.onload = ()=>{
              myChart.setOption(option);
            }

            window.onresize = ()=>{
              myChart.resize();
            }
          }
      }
    }
</script>

<style scoped>

</style>
